# ë°ì´í„°ë² ì´ìŠ¤(2)

> **ì›ë³¸ í¬ìŠ¤íŠ¸ ID**: 193
> **ë°œí–‰ì¼**: 2025-06-17 00:36:42
> **ì¹´í…Œê³ ë¦¬**: project/ì›¹ê°œë°œ

## ğŸ“ ì›ë¬¸ ë‚´ìš©

**Sequelizeë¡œ ë°ì´í„° ì €ì¥/ì¡°íšŒ API ë§Œë“¤ê¸°**

* * *

**mainRouter íŒŒì¼ì— API ì¶”ê°€í•˜ê¸°**

**ë°ì´í„° ì €ì¥ API**

router.get("/data/create",function(req,res){

let user_id = parseInt(Math.random() * 10000)

db.users.create({user_id:user_id}).then(function(result){

res.send({success:200})

})

})

ë¼ìš°íŒ… ê²½ë¡œ  
GET /data/create ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ì‹¤í–‰ë©ë‹ˆë‹¤.

ëœë¤ ìˆ«ì ìƒì„±

  
Math.random() * 10000: 0ë¶€í„° 9999ê¹Œì§€ì˜ ì‹¤ìˆ˜í˜• ëœë¤ ìˆ«ìë¥¼ ìƒì„±  
parseInt(...): ì†Œìˆ˜ì  ì œê±° â†’ ì •ìˆ˜í˜•ìœ¼ë¡œ ë³€í™˜

![](./img/193_img.png)

DB Insert ìˆ˜í–‰  
db.users.create(...): Sequelize ORMì„ í†µí•´ users í…Œì´ë¸”ì— ìƒˆë¡œìš´ rowë¥¼ ìƒì„±  
ì˜ˆ: { user_id: 7231 } ì´ëŸ° í˜•íƒœë¡œ ì‚½ì…

ê²°ê³¼ ì‘ë‹µ  
ì‚½ì… ì™„ë£Œ í›„ { success: 200 } ì‘ë‹µì„ í´ë¼ì´ì–¸íŠ¸ì— ë°˜í™˜

![](./img/193_img_1.png)

**ë°ì´í„° ì¡°íšŒ API**

router.get("/data/read", function(req,res){

db.users.findAll().then(function(result){

res.send({success:200, data:result})

})

})

ë„ˆë¬´ ê°„ë‹¨í•˜ê²Œë„, findAll í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ users í…Œì´ë¸”ì— ì €ì¥ëœ ëª¨ë“  ë°ì´í„°ë“¤ì„ ì¡°íšŒí•˜ì—¬ ê°€ì ¸ì˜µë‹ˆë‹¤.

ì´ê²ƒ ë˜í•œ ë°”ë¡œ res.send ì¦‰ í˜¸ì¶œí•œ ê°œë°œì(í”„ë¡ íŠ¸ì—”ë“œ)ì—ê²Œ ì‘ë‹µìœ¼ë¡œ ë³´ë‚´ì¤ë‹ˆë‹¤. ê·¸ ëª¨ìŠµì€ ì–´ë ¤ìš¸ ê²ƒ ì—†ì´ ë”•ì…”ë„ˆë¦¬ í˜•íƒœ ì¦‰ ê°ì²´ì…ë‹ˆë‹¤.

![](./img/193_img_2.png)

**Sequelizeë¡œ ë°ì´í„° ë³€ê²½/ì‚­ì œ API ë§Œë“¤ê¸°**

* * *

**ë°ì´í„° ë³€ê²½ API**

router.post("/data/update", function(req,res){

let target_id = req.body.target_id;

db.users.update({user_id:9999},{where:{user_id:target_id}}).then(function(result){

res.send({success:200})

})

})

router.post("/data/update", function(req, res) {

  * Express ë¼ìš°í„° ì •ì˜ì…ë‹ˆë‹¤.
  * í´ë¼ì´ì–¸íŠ¸ê°€ POST ë°©ì‹ìœ¼ë¡œ /data/update ê²½ë¡œì— ìš”ì²­ì„ ë³´ë‚´ë©´ ì´ í•¨ìˆ˜ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.



let target_id = req.body.target_id;

  * req.bodyëŠ” ìš”ì²­ ë³¸ë¬¸ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
  * target_idëŠ” ìˆ˜ì • ëŒ€ìƒì´ ë˜ëŠ” ì‚¬ìš©ìì˜ user_idì…ë‹ˆë‹¤.
  * ì˜ˆ: ì‚¬ìš©ìê°€ { "target_id": "1234" }ë¥¼ ë³´ë‚´ë©´ target_id = 1234



db.users.update(...)

  * Sequelizeì˜ update() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ users í…Œì´ë¸”ì˜ ê°’ì„ ìˆ˜ì •í•©ë‹ˆë‹¤.
  * ë‘ ê°œì˜ ì¸ìë¥¼ ê°€ì§‘ë‹ˆë‹¤:



ì²« ë²ˆì§¸ ì¸ì

javascript

ë³µì‚¬í¸ì§‘

{ user_id: 9999 } 

  * í•´ë‹¹ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë ˆì½”ë“œì˜ user_id ê°’ì„ 9999ë¡œ ë°”ê¾¸ê² ë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.



ë‘ ë²ˆì§¸ ì¸ì

javascript

ë³µì‚¬í¸ì§‘

{ where: { user_id: target_id } } 

  * user_idê°€ target_idì™€ ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œë§Œ ìˆ˜ì •í•˜ê² ë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.



then(function(result) { res.send({ success: 200 }); })

  * ì—…ë°ì´íŠ¸ê°€ ì„±ê³µì ìœ¼ë¡œ ëë‚¬ì„ ë•Œ ì‹¤í–‰ë©ë‹ˆë‹¤.
  * ì‘ë‹µìœ¼ë¡œ { success: 200 } JSONì„ í´ë¼ì´ì–¸íŠ¸ì— ë°˜í™˜í•©ë‹ˆë‹¤.
  * ì°¸ê³ ë¡œ resultëŠ” [1] ë˜ëŠ” [0]ì˜ ë°°ì—´ì…ë‹ˆë‹¤: 
    * [1]: 1ê°œì˜ ë ˆì½”ë“œê°€ ìˆ˜ì •ë¨
    * [0]: ì¡°ê±´ì— ë§ëŠ” ë ˆì½”ë“œê°€ ì—†ì–´ ì•„ë¬´ê²ƒë„ ìˆ˜ì • ì•ˆ ë¨



![](./img/193_img_3.png)

ì´ì œ ì¡°íšŒ APIë¡œ í™•ì¸í•´ë³´ë©´ 9999ë¡œ ë°”ë€Œì–´ìˆì„ê»ë‹ˆë‹¤.

![](./img/193_img_4.png)

**ë°ì´í„° ì‚­ì œ****API**

router.post("/data/delete",function(req,res){

let target_id = req.body.target_id;

db.users.destroy({where:{users_id:target_id}}).then(function(result){

res.send({success:200})

})

})

let target_id = req.body.target_id;

  * req.bodyì—ì„œ target_idë¥¼ êº¼ëƒ…ë‹ˆë‹¤.
  * ì˜ˆ: í´ë¼ì´ì–¸íŠ¸ê°€ {"target_id": 5}ë¥¼ ë³´ë‚´ë©´ target_id = 5



db.users.destroy({ where: { user_id: target_id } })

  * users í…Œì´ë¸”ì—ì„œ user_idê°€ target_idì¸ ë ˆì½”ë“œë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.
  * SQLë¡œ ë³´ë©´ ë‹¤ìŒê³¼ ë¹„ìŠ·í•œ ì‘ì—…ì…ë‹ˆë‹¤:



DELETE FROM users WHERE user_id = 5;

![](./img/193_img_5.png) ![](./img/193_img_6.png)

ì´ëŸ°ì‹ìœ¼ë¡œ ë°ì´í„° ì¹¸ì´ ì‚­ì œëœê±¸ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


## ğŸ”— ì œí…”ì¹´ìŠ¤í… ì—°ê²°

### ê´€ë ¨ ê°œë…
- [[]]
- [[]]

### í”„ë¡œì íŠ¸ ì—°ê²°
- [[]]

### í•™ìŠµ í¬ì¸íŠ¸
-

## ğŸ“‹ ì•¡ì…˜ ì•„ì´í…œ
- [ ]
- [ ]

## ğŸ’¡ ê°œì¸ì  í†µì°°



---

**íƒœê·¸**: #projectì›¹ê°œë°œ
**ìƒíƒœ**: ğŸŒ± ì”¨ì•— (ì œí…”ì¹´ìŠ¤í… í†µí•© ëŒ€ê¸°)
**ë³€í™˜ì¼**: 2025-10-07
